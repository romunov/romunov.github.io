<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Biolitika - python</title><link>https://biolitika.si/</link><description></description><lastBuildDate>Fri, 10 Nov 2023 09:52:00 +0100</lastBuildDate><item><title>Lintering using tox ignores Python version</title><link>https://biolitika.si/lintering-using-tox-ignores-python-version.html</link><description>&lt;p&gt;When trying to run linters using &lt;code&gt;tox&lt;/code&gt;, it would keep use Python 3.11 to run. But this isn't what's defined in my project configuration that says it should be Python versions between and including 3.8 and 3.10 nor the version used in my virtual environment.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;➜&lt;/span&gt; &lt;span class="n"&gt;tox&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="n"&gt;linters&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;Processing&lt;/span&gt; &lt;span class="o"&gt;./.&lt;/span&gt;&lt;span class="n"&gt;tox&lt;/span&gt;&lt;span class="o"&gt;/.&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/....&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gz&lt;/span&gt;
  &lt;span class="n"&gt;Installing&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt; &lt;span class="n"&gt;dependencies&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;
  &lt;span class="n"&gt;Getting&lt;/span&gt; &lt;span class="n"&gt;requirements&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt; &lt;span class="n"&gt;wheel&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;
  &lt;span class="n"&gt;Installing&lt;/span&gt; &lt;span class="n"&gt;backend&lt;/span&gt; &lt;span class="n"&gt;dependencies&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;
  &lt;span class="n"&gt;Preparing&lt;/span&gt; &lt;span class="n"&gt;metadata&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pyproject&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toml&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;

&lt;span class="n"&gt;ERROR&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Package&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;mypackage&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;requires&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;different&lt;/span&gt; &lt;span class="n"&gt;Python&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;3.11.6&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;3.11,&amp;gt;=3.8&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The specific configuration (&lt;code&gt;tox.ini&lt;/code&gt;, &lt;code&gt;setup.cfg&lt;/code&gt; and &lt;code&gt;pyproject.toml&lt;/code&gt;) worked for others and testing server, but not for me, so I started poking around my system. The first clue was when I checked &lt;code&gt;tox --version&lt;/code&gt; which said 4.11, BUT, it was from folder &lt;code&gt;.../python3.11/site-packages&lt;/code&gt;. When I tried to remove the global version using &lt;code&gt;pip uninstall tox&lt;/code&gt;, pip complained that this isn't possible because the package might have been installed using the system's package manager. Sure enough, after &lt;code&gt;sudo dnf remove tox&lt;/code&gt; and installation of &lt;code&gt;tox&lt;/code&gt; in the local environment, lintering now goes through.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roman Luštrik</dc:creator><pubDate>Fri, 10 Nov 2023 09:52:00 +0100</pubDate><guid isPermaLink="false">tag:biolitika.si,2023-11-10:/lintering-using-tox-ignores-python-version.html</guid><category>HowTo</category><category>python</category><category>tox</category><category>lintering</category><category>fedora</category><category>venv</category></item><item><title>Remember processed entities in Python</title><link>https://biolitika.si/remember-processed-entities-in-python.html</link><description>&lt;p&gt;There exist not-so-edge cases when you're processing data but your code fails for some reason or another. There are many solutions around this. Complexity increases fault tolerance but also the cost of setting things up. For instance, you could create a Celery task queue or a Redis database for persistent storage to process tasks, but this can be somewhat involved. It can also not be feasible if you're working in a contained environment where installing a new package or piece of software would take a Jira ticket and days of waiting. Also, if you're doing a one-off thing, anything other than simple may be an overkill.&lt;/p&gt;
&lt;p&gt;To remember which entities have been already processed, my initial solution included writing this information into a pickle file. Before processing an entity, I would reread the pickle file and check if the entity has been processed previously. This seems very Flintstony, so I thought I'd use the collective hive mind and asked this question on a local developer community slack channel. A bunch of solutions rushed in, including Redis and Celery, but the one that got my attention the most was the &lt;a href="https://docs.python.org/3/library/shelve.html"&gt;&lt;code&gt;shelve&lt;/code&gt; object&lt;/a&gt; used for persistent storage.&lt;/p&gt;
&lt;p&gt;It's very easy and intuitive to work with. It's just a matter of setting up a shelf as it were and putting things on it. It's nice to tear the shelf down once you're done using it. It's even prepackaed with Python, so no additional installation of packages is needed.&lt;/p&gt;
&lt;p&gt;Here's a small script that demonstrates the functionality. A function &lt;code&gt;run_process&lt;/code&gt; processes all the files in folder. First, I add three files and process them. Then I add two more files and process the whole set of files again. Notice that the files that have already been processed are now skipped. This is the result of the script:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;[&amp;#39;In file1&amp;#39;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;[&amp;#39;In file2&amp;#39;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;[&amp;#39;In file3&amp;#39;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="na"&gt;Skipping ./file1&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="na"&gt;Skipping ./file2&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="na"&gt;Skipping ./file3&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;[&amp;#39;In file4&amp;#39;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="k"&gt;[&amp;#39;In file5&amp;#39;]&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The script in its entirety or see &lt;a href="https://gist.github.com/romunov/b79d63caa8874618e734329eaa3d6950"&gt;this gist&lt;/a&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;Off the shelf way to skip already processed entities&lt;/span&gt;

&lt;span class="sd"&gt;This scripts processes files, remembers which files have been already&lt;/span&gt;
&lt;span class="sd"&gt;processed and skips them on the next run.&lt;/span&gt;
&lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;glob&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;shelve&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;create_files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Creates specified files on disk with boring contents.&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;wt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;to_disk&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;to_disk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;In &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="kc"&gt;None&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;process_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Reads file and prints its contents.&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;rt&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;in_file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;in_file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readlines&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;list_files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;List all files in a specified path.&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;glob&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;file*&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;


&lt;span class="c1"&gt;# noinspection PyBroadException&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;run_process&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;    Iterate through specified files and process them if not already&lt;/span&gt;
&lt;span class="sd"&gt;    done in the previous run.&lt;/span&gt;
&lt;span class="sd"&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;shelf&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="n"&gt;process_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
                &lt;span class="n"&gt;shelf&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;OK&amp;quot;&lt;/span&gt;
            &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
                &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Skipping &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Failed (&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;)&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Processed &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; files.&amp;quot;&lt;/span&gt;


&lt;span class="c1"&gt;# This is a file where memories of processed files go.&lt;/span&gt;
&lt;span class="n"&gt;CACHE_FILE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;processed.cache&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;shelf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;shelve&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;CACHE_FILE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;create_files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;file2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;file3&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;available_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;list_files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;run_process&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;available_files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;create_files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file_list&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;file4&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;file5&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;available_files&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;list_files&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;run_process&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;files&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;available_files&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Close the shelf&lt;/span&gt;
&lt;span class="n"&gt;shelf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# Remove any files that may have been created during the execution of&lt;/span&gt;
&lt;span class="c1"&gt;# this script.&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;available_files&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unlink&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unlink&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CACHE_FILE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roman Luštrik</dc:creator><pubDate>Sat, 04 Sep 2021 10:38:00 +0200</pubDate><guid isPermaLink="false">tag:biolitika.si,2021-09-04:/remember-processed-entities-in-python.html</guid><category>HowTo</category><category>persistent storage</category><category>shelf</category><category>shelve</category><category>Python</category></item><item><title>Odkrivanje elementov delovnega razmerja s strani Inšpektorata RS za delo</title><link>https://biolitika.si/inspekcijski-postopki-elementi-delovnega-razmerja.html</link><description>&lt;!-- https://docs.getpelican.com/en/stable/content.html --&gt;

&lt;p&gt;Na Inšpektoratu RS za delo so bili tako prijazni, da so mi poslali stiskano in poskenirano tabelo zaključnenih dokumentov inšpekcijskih nadzorov, ki se tičejo ugotavljanja elementov delovnega razmerja kot jih opredeljuje &lt;a href="http://pisrs.si/Pis.web/pregledPredpisa?id=ZAKO5944#"&gt;ZDR-1&lt;/a&gt;. Po domače povedano so inšpektorji in inšpektorice pri delodajalcih preverjali, če ima podjetje delavce zaposlene "prek s.p.-ja".&lt;/p&gt;
&lt;p&gt;Z inšpektorata so mi sporočili, da bi ugodenje zahtevi za vse dokumente, ki se tičejo ugotavljanja elementov delovnega razmerja, trajalo dolgo in bi bilo povezano s stroški. Čez to zgodbo že šel z Inšpektoratom RS za notranje zadeve (&lt;a href="http://kurc.biolitika.si"&gt;kurc enivan?&lt;/a&gt;), je Urad IP pokazal, da zakon ne predvideva, da se zaračunava stroške, če se zahteva zadevo elektronsko. Ker sem len, sem se odločil, da bom zahteval zadeve &lt;em&gt;per partes&lt;/em&gt;. Tako so mi poslali lično natiskano in v PDF poskenirano tabelo relevantnih zadev.&lt;/p&gt;
&lt;p&gt;Prejet PDF dokument sem spremenil v PDF s pomočjo paketa &lt;code&gt;pypdfocr&lt;/code&gt; in s &lt;code&gt;tesseract&lt;/code&gt; prebral številke zadev. Z manjšo skripto sem očistil datoteko. Vse skupaj je trajalo nekaj minut, jaz ne vem kaj si mislijo na Inšpektoratu.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;random&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./data/seznam_zadev.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;rt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;rf&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;xy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;rf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readlines&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="n"&gt;out&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;mch&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;search&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;\d+-\d+&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;mch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mch&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="n"&gt;xy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:])&lt;/span&gt;

&lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;./data/spucane_st_zadev.txt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;wt&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;wf&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="n"&gt;wf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;writelines&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;357&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;random_rows&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rng&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;random_rows&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randrange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;xy&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;rng&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rng&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;random_rows&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Skripta vrne očiščeno datoteko in seznam zadev. Za te zadeve sem zaprosil in jih tudi dobil po dveh mesecih, verjetno zaradi koronast(r)anja.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;#39;010601-201506&amp;#39;
&amp;#39;010606-201812&amp;#39;
&amp;#39;010505-201701&amp;#39;
&amp;#39;010104-201905&amp;#39;
&amp;#39;010611-201605&amp;#39;
&amp;#39;010601-201806&amp;#39;
&amp;#39;011401-201901&amp;#39;
&amp;#39;010506-202001&amp;#39;
&amp;#39;010401-201507&amp;#39;
&amp;#39;011305-201910&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Zadeva 06100-1427/2016&lt;/h1&gt;
&lt;p&gt;Pri podjetju iz primorske regije, ki se ukvarja s skladiščenjem in pretovarjanjem vozil, je inšpektorat ugotovil, da nima zaposlenih delavcev, na podjetju pa je bilo aktivnih šest delavcev. Ti niso imeli dovolilnice oz. niso zaposleni, imajo pa priglašeno dejavnost samostojnega podjetnika. Delodajalec je inšpektorju pokazal izjave, da delavci ne želijo biti zaposleni pri tem podjetju iz različnih razlogov. Ponudil je tudi dokaz, da jih je želel zaposliti, a te pogodbe delavci niso želeli skleniti. Tale navedba se mi je zdela zanimiva&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ZDR-1 določa, da je potrebno skleniti pogodbo o zaposlitvi, svobodna in vzajemna volja ne more biti v nasprotju z zakonodajo.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;Zadeva 710-2452/2018&lt;/h1&gt;
&lt;p&gt;Inšpektorica je ugotovila, da med podjetjem in samostojnim podjetnikom obstajajo elementi delovnega razmerja (v nasprotu z drugim odstavkom 13. člena ZDR-1) in izdala plačilni nalog za 1500 EUR globe. Sicer je zagrožena globa je do 8.000,00 EUR.&lt;/p&gt;
&lt;h1&gt;Zadeva 06100-1604/2016&lt;/h1&gt;
&lt;p&gt;Inšpektor z območne enote Celje je javnemu zavodu prepovedal opravljanje dela z delavcem, ki je delal kot samostojni podjetnik. Inšpektor je ugotovil, da obstajajo elementi delovnega razmerja, v ozir pa je vzel tudi pogodbo o izvajanju del.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-1032/2019&lt;/h1&gt;
&lt;p&gt;Podjetje in podjetnik, ki padeta pod pristojnost inšpektorata iz Kranja sta dobila &lt;em&gt;opomin&lt;/em&gt;, ker je bilo dovoljeno delavcu opravljati delo preko svoje družbe. To naj bi bilo v nasprotju s tretjo točko 217. člena ZDR-1, ki se glasi&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;pri njem opravlja delavec delo na podlagi pogodbe civilnega prava v nasprotju z drugim odstavkom 13. člena tega zakona;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Kršitelja morata poravnati stroške postopka v višini 30 EUR.&lt;/p&gt;
&lt;h1&gt;Zadeva 06109-7/2015&lt;/h1&gt;
&lt;p&gt;Murskosoboško-Mariborski inšpektorat je obiskal gostinsko podjetje. Delavka je izjavila, da ni zaposlena, ima s.p. in pogodbo o poslovnem sodelovanju. Inšpektorica je ugotovila, da obstajajo vsi elementi delovnega razmerja po 4. členu ZDR-1 (delavka se je prostovoljno vključena v organiziran delovni proces in s sredstvi delodajalca za plačilo po njegovih navodilih in njegovim nadzorom opravljala delo). Inšpektorica je prepovedala opravljanje dela delavke dokler je ne zaposli skladno s predpisi o zaposlovanju.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-1666/2018-3&lt;/h1&gt;
&lt;p&gt;Kandidat je opravljal delo pooblaščene osebe v imenu za račun v korist in s sredstvi pravne osebe. Inšpektor je presodil, da gre za kršitev 4. člena ZDR-1 in izrekel opomin. Kršiteljici sta morali plačati 30 EUR stroškov postopka.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-2628/2017&lt;/h1&gt;
&lt;p&gt;Podjetje s osebo z s.p.-jem sklenilo pogodbo za opravljanje dela direktorja v imenu in v korist pravne osebe z vsemi elementi delovnega razmerja. Inšpektorica je ugotovila, da gre za kršitev 13. člena ZDR-1. Pravni in odgovorni osebi je izrekla opomin in plačilo 30 EUR stroškov postopka.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-3015/2019&lt;/h1&gt;
&lt;p&gt;Podobno kot za zadevo 710-2628/2017.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-917/2019&lt;/h1&gt;
&lt;p&gt;Podobno kot za zadevo 710-2628/2017, le da je bila izrečena globa 1500 EUR za pravno in 150 EUR za odgovorno osebo. Dodatno so še zaračunali 180 in 70 EUR stroškov postopka za pravno in odgovorno osebo.&lt;/p&gt;
&lt;h1&gt;Zadeva 06141-1803/2019-5&lt;/h1&gt;
&lt;p&gt;Podjetju je inšpektorica prepovedala opravljanje dela na podlagi študentskih napotnic (strežba v lokalu). Inšpektorica je ugotovila, da študentke opravljajo delo v postrežbi v lokalu, ki vsebuje elemente delovnega razmerja. Delodajalcu je bilo naloženo, da v roku treh dni (od prejema odločbe) delavkam izročiti pisno pogodbo o zaposlitvi za delo v strežbi.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Naslednje zadeve sem prejel dne 2020-06-15&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;Zadeva PN 710-68/2019-3&lt;/h1&gt;
&lt;p&gt;Kratko a jedrnato poročilo in plačilni nalog za 1500 EUR oz 750 EUR za polovičko. Oglobljena je bila lastnica lokala, ker je v lokalu delala delavka neskladno z 2. odstavkom 13. člena Zakona o delovnih razmerjih, saj so obstajali elementi delovnega razmerja.&lt;/p&gt;
&lt;h1&gt;Zadeva 06100-1464/2018&lt;/h1&gt;
&lt;p&gt;Koprska inšpektorica je podjetju prepovedala opravljanje delovnega procesa oz. uporabo sredstev za delo s samostojnim podjetnikom do odprave nepravilnosti. Utemeljuje, da delodajalec omogoča opravljanje dela na podlagi pogodbe civilnega prava na način, da delo s.p.-ja vsebuje vse elemente delovnega razmerja. Inšpektorica odredi, da morata stranki skleniti pogodbo o zaposlitvi.&lt;/p&gt;
&lt;h1&gt;Zadeva 06100-2793/2019-7&lt;/h1&gt;
&lt;p&gt;Mariborska inšpektorica je delodajalcu prepovedala opravljati delo dvema osebama do odprave nepravilnosti. Delavca sta namreč opravljali delo na podlagi pogodbe civilnega prava, njuno delo pa vsebuje vse elemente delovnega razmerja. Ne piše (pobrisano), ali je šlo za fizični osebi ali morda za samostojna podjetnika.&lt;/p&gt;
&lt;p&gt;Zanimivo mi je to, da je glava odločble na videz podobna tisti, ki jo je spisala koprska inšpektorica (ali pa je obratno, iz zaključnih zadev težko sklepam).&lt;/p&gt;
&lt;h1&gt;Zadeva 06141-576/2018&lt;/h1&gt;
&lt;p&gt;Inšpektor ugotavlja, da je imel delodajalec z dvema delavkama (s.p.?) sklenjeno pogodbo civilnega prava in da obstajajo elementi delovnega razmerja. Nalaga, da delodajalec uredi delovno razmerje skladno s 54. členom ZDR-1A.&lt;/p&gt;
&lt;h1&gt;Zadeva 06141/191/2015-1&lt;/h1&gt;
&lt;p&gt;Inšpektor delodajalcu prepove opravljanje dela oz delovnega procesa z delavko, s katero ima sklenjeno &lt;pobrisano&gt;, dokler bo pri delodajalcu opravljala delo na način, ki vsebuje elemente delovnega razmerja in tako zagotovi spoštovanje določb 2. odstavka 13. člena ZDR-1.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-2567/2017-3&lt;/h1&gt;
&lt;p&gt;Inšpektorica je izdala opomin in 30 EUR stroškov postopka, ker je podjetje dovolilo delavki opravljati delo na podlagi civilne pogodbe v nasprotju s 13. členom Zakona o delovnih razmerjih, ker vsebujejo elemente delovnega razmerja v skladu s 4. točko v povezavi z 22. členom ZDR-1.&lt;/p&gt;
&lt;h1&gt;Zadeva 06100-243/2016&lt;/h1&gt;
&lt;p&gt;Inšpektorica delodajalcu prepove opravljanje dela z osebo. Sicer je veliko pobrisanega, vendar bi lahko sklepal, da gre za delo na podlagi ("civilne") pogodbe, obstajajo pa tudi elementi delovnega razmerja skladno s 4. in v povezavi z 22. oz. 54. členom Zakona o delovnih razmerjih.&lt;/p&gt;
&lt;h1&gt;Zadeva 06139-1670/2016&lt;/h1&gt;
&lt;p&gt;Inšpektorica delodajalcu prepove opravljana dela oz. opravljanje delovnega procesa v katerem je udeležena delavka s katero ima, ker je pobrisano ugibam, sklenjeno pogodbo. Delo, ki ga delavka opravlja vsebuje vse elemente delovnega razmerja, kar je v nasprotju z 2. odstavkom 13. člena Zakona o delovnih razmerjih.&lt;/p&gt;
&lt;h1&gt;Zadeva 06100-157/2015-1&lt;/h1&gt;
&lt;p&gt;Inšpektor delodajalcu prepove opravljanje dela oz. delovnega procesa z delavcem, ki ima priglašeno dejavnost &lt;pobrisano&gt;. Sklepam, da gre za delo preko s.p.-ja. Prepoved velja dokler delavce pri delodajalcu delo opravlja na način, ki vsebuje elemente delovnega razmerja.&lt;/p&gt;
&lt;h1&gt;Zadeva 710-332/2017&lt;/h1&gt;
&lt;p&gt;Inšpektor pravni in odgovorni osebi očita štiri prekrške od a do č. V dokumentu je nepobrisan samo prekršek a. V prekršku a je očitano, da je bilo delavcu omogočeno delo na podlagi pogodbe civilnega prava, kljub obstoju elementov delovnega razmerja, kar je v nasprotju z 2. odstavkom 13. člena ZDR-1. Pravna oseba je za ta prekršek dobila izrečene 4500 EUR globe, odgovorna pa 450 EUR. Poleg globe je še obračunana sodna taksa 1050 EUR za pravno in 160 za odgovorno osebo.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Naslednje zadeve sem prejel 2020-07-29&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;Zadeva 06139-392/2015-3&lt;/h1&gt;
&lt;p&gt;Inšpektor delodajalcu prepove opravljanje delovnega procesa z delavcem, ker mu omogoča opravljanje dela na podlagi civilnega prava - pogodbe o opravljanju storitev. Pogodba vsebuje elemente delovnega razmerja, v nasprotju z 2. drugim odstavkom 13. člena Zakona o delovnih razmerjih. Verjetno gre za s.p., a zaradi umika osebnih informacij iz tega dokumenta to nedvoumno ne znam razbrati. V primeru, da delodajalec ne bo odpravil nepravilnosti, je zagrožena globa 4500 EUR za pravno osebo in 350 EUR za odgovorno osebo.&lt;/p&gt;
&lt;h1&gt;06112-811/2014-1&lt;/h1&gt;
&lt;p&gt;Delavec s priglašeno dejavnostjo v gostinstvu na podlagi pogodbe o sodelovanju pri delodajalcu opravlja delo. Inšpektor je ugotovil, da obstajajo elementi delovnega razmerja po drugem odstavku 13. člena Zakona o delovnih razmerjih. V kolikor delodajalec ne odpravi nepravilnosti, je zagrožena globa 4500 EUR za pravno in 350 EUR za odgovorno osebo.&lt;/p&gt;
&lt;h1&gt;06141-590/2016&lt;/h1&gt;
&lt;p&gt;Inšpektorica je dvema delavkama s priglašeno dejavnostjo prepovedala opravljanje dela pri delodajalcu, ker je slednji omogočil opravljanje dela na podlagi pogodb civilnega prava, kar je v nasprotju z drugim odstavkom 13. člena Zakona o delovnih razmerjih, saj vsebuje delo vse elemente delovnega razmerja. Zagrožena globa je 4500 EUR za delodajalca in 350 EUR za odgovorno osebo.&lt;/p&gt;
&lt;h1&gt;06100-583/2016&lt;/h1&gt;
&lt;p&gt;Inšpektor delodajalcu prepove opravljati dela oz. opravljanje delovnega proces in uporabe sredstev za delo z delavko, ki ima priglašeno dejavnost dokler bo pri delodajalcu opravljala delo na način, ki vsebuje elemente delovnega razmerja, kar je v nasprotju z drugim odstavkom 13. člena Zakona o delovnih razmerjih. Zagrožena je kaze 4500 EUR za delodajalca in 350 EUR za odgovorno osebo.&lt;/p&gt;
&lt;h1&gt;06100-1228/2016&lt;/h1&gt;
&lt;p&gt;Inšpektor je ob inšpekcijskem pregledu ugotovil, da imajo nekateri delavci status (pobrisano, verjetno s.p.), z družbo sklenjeno pogodbo civilnega prava. Inšpektor je ugotovil, da obstajaji vsi elementi delovnega razmerja, kot jih določa 4. člen Zakona o delovnih razmerjih-1 in ni v skladju z drugim odstavkom 13. člena istega zakona. Delodajalec je obljubil, da bo z navedenimi zaposlenimi sklenil pogodbo o zaposlitvi do 2017-01-01, ker potrebuje nekaj časa za spremembo internega akta. Za delodajalca je tudi zagroženakazen 2000 EUR in 200 EUR za neizpolnjevanje pisnega poročila ter 4500 EUR kazni za neizvrševanje določbe za pravno in 350 EUR za odgovorno osebo.&lt;/p&gt;
&lt;h1&gt;710-603/2019-3&lt;/h1&gt;
&lt;p&gt;V tej zadevi je veliko informacij umaknjenih in je težko razbrati za kaj gre. Da se razbrati, da je pri pravni osebi nekdo opravljal dleo na podlagi pogodbe civilnega prava s čimer je kršila drugi odstavek 13. člena Zakona o delovnih razmerjih-1. Pravni in odgovorni osebi je bil izrečen opomin in vsaki tudi plačilo sodne takse v višini 30 EUR.&lt;/p&gt;
&lt;h1&gt;710-2691/2017-3&lt;/h1&gt;
&lt;p&gt;Inšpektorica je ugotovila, da je bila kršiteljica naročnica del z brezposelno osebo. Ugotovljeni so bili elementi delovnega razmerja, kar je v nasprotju z drugim odstavkom 13. člena Zakona o delovnih razmerjih-1 in je tako storila prekršek po tretji točki prvega odstavka v povezavi z drugim odstavkom 217. člena Zakona o delovnih razmerjih [&lt;em&gt;ja, taka klobasa v odločbi piše&lt;/em&gt;]. Izrečen ji je bil opomin in plačilo stroške postopka odmerjene sodne takse v vrednosti 30 EUR.&lt;/p&gt;
&lt;h1&gt;710-2214/2018&lt;/h1&gt;
&lt;p&gt;Inšpektor je ugotovil, da je kršiteljica omogočila/dovolila, da je pri njej na podlagi pogodbe civilnega prava opravljala delo oseba (pobrisano), kar je v nasprotju z določbami 2. odstavka 13. člena Zakona o delovnih razmerjih-1. Samostojni podjetnici, ki zaposluje manj kot 10 oseb, se tako izreče globa 1500 EUR in 150 EUR sodne takse.&lt;/p&gt;
&lt;h1&gt;710-1885/2017&lt;/h1&gt;
&lt;p&gt;Inšpektorica pravni in odgovorni osebi izreče opomin, ker je omogočila opravljane dela prodajalke, verjetno na podlagi pogodbe civilnega prava, na sistematiziranem delovnem mestu prodajalke z vsemi elementi delovnega razmerja. To je v nasprotju z drugim odstavkom 13. člena Zakona o delovnih razmerjih. Pravna in odgovorna oseba morata vsaka plačati 30 EUR stroškov postopka - sodno takso.&lt;/p&gt;
&lt;h1&gt;710-1390/2017&lt;/h1&gt;
&lt;p&gt;Inšpektor pravni in odgovorni osebi očita odgovornost za prekšek, ker je odgovorna oseba v imenu pravne osebe sklenila pogodbo civilnega prava z osebo, ki ima priglašeno dejavnost, in ji tako omogočila delo, ki je v nasprotju z drugim odstavkom 13. člena Zakona o delovnih razmerjih. Izrečena je globa 3000 EUR za pravno in 450 EUR za odgovorno osebo.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Naslednje zadeve sem prejel 2020-09-29&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;06100-1223/2018-7&lt;/h1&gt;
&lt;p&gt;V gostinskem lokalu je inšpektorica odredila prepoved opravljanja dela delavcev (5) do odprave nepravilnosti. Odprava izgleda tako, da bo podjetje moralo, v kolikor želi sodelovati s temi petimi osebami, zaposliti, saj vsebina dela vsebuje vse elemente delovnega razmerja. Inšpektorica je ugotovila tudi druge kršitve, denimo opravljanje dela na podlagi podjemne pogodbe, kjer delavec ni bil zavarovan za primer poklicne bolezni in primer poškodbe pri delu.&lt;/p&gt;
&lt;h1&gt;710-243/2018-3&lt;/h1&gt;
&lt;p&gt;Pravna oseba in njena odgovorna oseba (direktor) sta sklenila pogodbi o sodelovanju, v katerih obstajajo elementi delovnega razmerja v skladu s 4. in v povezavi z 22. oz 54. členom, kar je v nasprotju z 2. odstavkom 13. člena ZDR1. Pravna in odgovorna oseba dobita opomin in 30 EUR kazni (vsaka).&lt;/p&gt;
&lt;h1&gt;710-635/2019-3&lt;/h1&gt;
&lt;p&gt;Kršitelj je prejel opomin in plačilo sodne takse (30 EUR), ker je omogočil natakarici delo na podlagi podjemne pogodbe. To delo ima vse elemente delovnega razmerja v skladu s 4. in v povezavi z 22. oz. 54. čl.  Zakona o delovnih razmerjih (Ur.l.RS, štev. 21/2013 in 52/2016) [si že videl/a toliko pik v eni povedi?].&lt;/p&gt;
&lt;h1&gt;06139-831/2016&lt;/h1&gt;
&lt;p&gt;Pravni osebi se prepove opravljanje dela voznika delavcu dokler se ne odpravi nepravilnosti. Inšpektor očita nepravilnost, ki je bila storjena s tem, da je delavcu delodajalec omogočil opravljanje dela sistematiziranega delovnega mesta z vsemi elementi delovnega razmerja v nasprotju z 2. odstavkom 13. člena ZDR. To nepravilnost so odkrili sicer pri nadzoru nad opravljanjem dela dijakov in študentov z napotnico študentskega servisa.&lt;/p&gt;
&lt;h1&gt;06100-2128/2017-3&lt;/h1&gt;
&lt;p&gt;Delodajalcu se do odprave nepravilnosti prepove opravljanje dela delavke, ker je dopustil opravljanje dela (v kuhinji) na podlagi civilne pogodbe v nasprotju s 13. členom ZDR-1, in sicer zato, ker vsebuje elemente delovnega razmerja v skladu s 4. točko v povezavi z 22. členom istega zakona.
V tej odločbi je inšpektorica opozorila, da v primeru, da bo dvakrat v šestih mesecih ali več kot dvakrat v daljšem obdobju ponovila kršitev, bo zavezancu zapečatila sredstva za delo, delovne prostore ter delovišče ter druge prostore.&lt;/p&gt;
&lt;h1&gt;06100-1020/2017-011003&lt;/h1&gt;
&lt;p&gt;Delodajalcu se prepove opravljanje delovnega procesa oziroma uporabe sredstev za delo z dvema delavcema (špedicija in druge spremljajoče prometne dejavnosti). Nepravilnost je storjena s tem, da jima je omogočil opravljanje dela na podlagi pogodb civlnega prava na način, da njuno delo vsebuje vse elemente delovnega razmerja. Prepoved velja do odprave nepravilnosti.&lt;/p&gt;
&lt;h1&gt;06100-1427/2016&lt;/h1&gt;
&lt;p&gt;Delodajalcu se prepove opravljanje dela oziroma opravljanje delovnega procesa in uporabe sredstev s šestimi delavci, dokler bodo pri delodajalcu opravljali delo na način, ki vsebuje elemente delovnega razmerja in s tem zagotovi spoštovanje določb 2. odstavka 13. člena ZDR-1.&lt;/p&gt;
&lt;h1&gt;710-985/2019-4&lt;/h1&gt;
&lt;p&gt;Kršiteljica je kot odgovorna oseba z drugo osebo sklenila pogodbo za opravljanje dela. S tem je kršila 2. odstavek 13. člena ZDR, ker obstajajo elementi delovnega razmerja v skladu s 4. in v povezavi z 22. oz. 54. členom Zakona o delovnih razmerjih. Izrečen je bil opomin in plačilo stroške postopka v višini 30 EUR.&lt;/p&gt;
&lt;h1&gt;710-1495/2018-2&lt;/h1&gt;
&lt;p&gt;V delavnici strojnega varjenja filtrov, valjanja in brušenja je ob inšpekcijskem nadzoru pri zavezancu inšpektorica odkrila, da pri zavezancu opravlja delo oseba, kjer so vsi elementi delovnega razmerja v skladu s 4. in v povezavi z 22. členom ZDR-1. Pravni osebi je naložila 3.000,00 EUR, odgovorni pa 450,00 EUR kazni (z možnostjo plačile polovičnega zneska).&lt;/p&gt;
&lt;h1&gt;06139-869/2015&lt;/h1&gt;
&lt;p&gt;Delodajalec more dvema delovkama (pomoč pri postrežbi pijač in čiščenje lokala) skleniti pogodbo o zaposlovanju in ju prijaviti v zavarovanje. S tem bo zagotovil spoštovanje 2. odstavka 13. člena ZDR-1.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roman Luštrik</dc:creator><pubDate>Sat, 23 May 2020 10:48:00 +0200</pubDate><guid isPermaLink="false">tag:biolitika.si,2020-05-23:/inspekcijski-postopki-elementi-delovnega-razmerja.html</guid><category>IJZ</category><category>ijz</category><category>Python</category><category>OCR</category><category>tesseract</category><category>pypdfocr</category></item><item><title>Docker image for OBITools (1.2.13) available</title><link>https://biolitika.si/docker-image-of-obitools-available.html</link><description>&lt;p&gt;In order to aid in making bioinformatics pipelines more reproducible, I have put together a &lt;a href="https://hub.docker.com/r/romunov/obitools"&gt;docker image which houses OBITools&lt;/a&gt;. OBITools is a software bundle which helps you analyze NGS data. See &lt;a href="https://git.metabarcoding.org/obitools/obitools/wikis/home"&gt;their website&lt;/a&gt; for more information.&lt;/p&gt;
&lt;p&gt;Having obitools housed in a docker image enables us to easily migrate or communicate our workflow. Here is a short representation of how one can call functions from the bundle using Python's &lt;code&gt;docker&lt;/code&gt; package.&lt;/p&gt;
&lt;p&gt;First, prepare some boilerplate stuff to have the container ready as a Python variable.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;docker&lt;/span&gt;
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;docker.errors&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;NotFound&lt;/span&gt;

&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;docker&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_env&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# Create or start docker container named &amp;#39;obitools&amp;#39;.&lt;/span&gt;
&lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;obt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;containers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;obitools&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;obt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;exited&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Starting container obitools.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;obt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
        &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Container obitools ready.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="k"&gt;except&lt;/span&gt; &lt;span class="n"&gt;NotFound&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Creating container obitools.&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;obt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;containers&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
        &lt;span class="n"&gt;image&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;romunov/obitools:1.2.13&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;obitools&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
        &lt;span class="c1"&gt;# This maps my local wolfdata to /data in container&lt;/span&gt;
        &lt;span class="n"&gt;volumes&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/home/romunov/wolfdata&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;bind&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;/data&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;mode&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;rw&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}},&lt;/span&gt;
        &lt;span class="n"&gt;tty&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;detach&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
        &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And then run the command&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;score_min = 40
reads_r = &amp;quot;wolf_R.fastq&amp;quot;
reads_f = &amp;quot;wolf_F.fastq&amp;quot;
output = &amp;quot;wolf.fastq&amp;quot;
wolf = obt.exec_run(tty=True, workdir=&amp;#39;/data&amp;#39;, cmd=f&amp;#39;illuminapairedend --score-min={score_min} -r {reads_r} {reads_f} &amp;gt; {output}&amp;#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Command &lt;code&gt;illuminapairedend --score-min=40 -r wolf_R.fastq wolf_F.fastq &amp;gt; wolf.fastq&lt;/code&gt; would be sent to the docker container and output would be located in &lt;code&gt;/home/romunov/wolfdata&lt;/code&gt; (see the first code chunk, specifically study the argument &lt;code&gt;volumes&lt;/code&gt;).&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roman Luštrik</dc:creator><pubDate>Sat, 15 Jun 2019 00:00:00 +0200</pubDate><guid isPermaLink="false">tag:biolitika.si,2019-06-15:/docker-image-of-obitools-available.html</guid><category>OpenSource</category><category>python</category><category>bioinformatics</category><category>docker</category><category>obitools</category><category>dockerhub</category></item></channel></rss>