<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Biolitika - lintering</title><link>https://biolitika.si/</link><description></description><lastBuildDate>Fri, 10 Nov 2023 09:52:00 +0100</lastBuildDate><item><title>Lintering using tox ignores Python version</title><link>https://biolitika.si/lintering-using-tox-ignores-python-version.html</link><description>&lt;p&gt;When trying to run linters using &lt;code&gt;tox&lt;/code&gt;, it would keep use Python 3.11 to run. But this isn't what's defined in my project configuration that says it should be Python versions between and including 3.8 and 3.10 nor the version used in my virtual environment.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;➜&lt;/span&gt; &lt;span class="n"&gt;tox&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="n"&gt;linters&lt;/span&gt;
&lt;span class="o"&gt;...&lt;/span&gt;
&lt;span class="n"&gt;Processing&lt;/span&gt; &lt;span class="o"&gt;./.&lt;/span&gt;&lt;span class="n"&gt;tox&lt;/span&gt;&lt;span class="o"&gt;/.&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/....&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gz&lt;/span&gt;
  &lt;span class="n"&gt;Installing&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt; &lt;span class="n"&gt;dependencies&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;
  &lt;span class="n"&gt;Getting&lt;/span&gt; &lt;span class="n"&gt;requirements&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt; &lt;span class="n"&gt;wheel&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;
  &lt;span class="n"&gt;Installing&lt;/span&gt; &lt;span class="n"&gt;backend&lt;/span&gt; &lt;span class="n"&gt;dependencies&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;
  &lt;span class="n"&gt;Preparing&lt;/span&gt; &lt;span class="n"&gt;metadata&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pyproject&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;toml&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt; &lt;span class="n"&gt;done&lt;/span&gt;

&lt;span class="n"&gt;ERROR&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Package&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;mypackage&amp;#39;&lt;/span&gt; &lt;span class="n"&gt;requires&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;different&lt;/span&gt; &lt;span class="n"&gt;Python&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;3.11.6&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;&amp;lt;3.11,&amp;gt;=3.8&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The specific configuration (&lt;code&gt;tox.ini&lt;/code&gt;, &lt;code&gt;setup.cfg&lt;/code&gt; and &lt;code&gt;pyproject.toml&lt;/code&gt;) worked for others and testing server, but not for me, so I started poking around my system. The first clue was when I checked &lt;code&gt;tox --version&lt;/code&gt; which said 4.11, BUT, it was from folder &lt;code&gt;.../python3.11/site-packages&lt;/code&gt;. When I tried to remove the global version using &lt;code&gt;pip uninstall tox&lt;/code&gt;, pip complained that this isn't possible because the package might have been installed using the system's package manager. Sure enough, after &lt;code&gt;sudo dnf remove tox&lt;/code&gt; and installation of &lt;code&gt;tox&lt;/code&gt; in the local environment, lintering now goes through.&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">Roman Luštrik</dc:creator><pubDate>Fri, 10 Nov 2023 09:52:00 +0100</pubDate><guid isPermaLink="false">tag:biolitika.si,2023-11-10:/lintering-using-tox-ignores-python-version.html</guid><category>HowTo</category><category>python</category><category>tox</category><category>lintering</category><category>fedora</category><category>venv</category></item></channel></rss>