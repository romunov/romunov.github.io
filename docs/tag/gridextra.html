<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Biolitika - gridExtra</title>
        <link rel="stylesheet" href="https://biolitika.si/theme/css/main.css" />
        <link href="https://biolitika.si/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Biolitika Atom Feed" />
        <link href="https://biolitika.si/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="Biolitika RSS Feed" />
          <link href="https://biolitika.si/feeds/{slug}.rss.xml" type="application/rss+xml" rel="alternate" title="Biolitika Tags RSS Feed" />
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="https://biolitika.si/">Biolitika </a></h1>
                <nav><ul>
                    <li><a href="https://biolitika.si/category/howto.html">HowTo</a></li>
                    <li><a href="https://biolitika.si/category/ijz.html">IJZ</a></li>
                    <li><a href="https://biolitika.si/category/opensource.html">OpenSource</a></li>
                    <li><a href="https://biolitika.si/category/razmisljanja.html">Razmi≈°ljanja</a></li>
                </ul>
                </nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="https://biolitika.si/how-to-combine-plots-and-table-made-with-ggplot-or-grid-graphics-in-r.html">How to combine plots and table made with ggplot (or grid graphics) in R</a></h1>
<footer class="post-info">
        <span>2018-10-02</span>
<span>| tags: <a href="https://biolitika.si/tag/r.html">R</a><a href="https://biolitika.si/tag/ggplot2.html">ggplot2</a><a href="https://biolitika.si/tag/combine.html">combine</a><a href="https://biolitika.si/tag/plots.html">plots</a><a href="https://biolitika.si/tag/gridextra.html">gridExtra</a><a href="https://biolitika.si/tag/cowplot.html">cowplot</a><a href="https://biolitika.si/tag/patchwork.html">patchwork</a></span>
</footer><!-- /.post-info --><p>In the last few years, a number of options of how to combine grid graphics (incl. <code>ggplot2</code>) have emerged.
If you can't remember all functions to do this, this post may serve as a reference guide, but it's mostly
for me because I keep forgetting the functionalities provided by <a href="https://github.com/wilkelab/cowplot"><code>cowplot</code></a> and <a href="https://github.com/thomasp85/patchwork"><code>patchwork</code></a> packages (<a href="https://chat.stackoverflow.com/transcript/75819?m=44067437#44067437">thank you Jaap</a>). Here appearing in order I encountered them.</p>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>

<span class="c1"># prepare some figures</span>
<span class="n">fig1</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">mpg</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">disp</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">gear</span><span class="p">)))</span> <span class="o">+</span>
  <span class="nf">theme_bw</span><span class="p">()</span> <span class="o">+</span>
  <span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&quot;top&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_color_discrete</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;gear&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">geom_point</span><span class="p">()</span>

<span class="n">fig2</span> <span class="o">&lt;-</span> <span class="nf">ggplot</span><span class="p">(</span><span class="n">mtcars</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">gear</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">disp</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="nf">as.factor</span><span class="p">(</span><span class="n">gear</span><span class="p">)))</span> <span class="o">+</span>
  <span class="nf">theme_bw</span><span class="p">()</span> <span class="o">+</span>
  <span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&quot;top&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">scale_fill_discrete</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">&quot;gear&quot;</span><span class="p">)</span> <span class="o">+</span>
  <span class="nf">geom_violin</span><span class="p">()</span>
</code></pre></div>


<h2>gridExtra</h2>
<p>Here is oldie but goldie from Baptiste's <a href="https://cran.r-project.org/web/packages/gridExtra/index.html"><code>gridExtra</code></a> package.
You can, for example, specify the layout matrix or specify number of columns. The below code chunk is using <code>ggplot2::ggsave</code> which saves the last subplot only, which is why I saved the result of <code>grid.arrange</code> into a new variable (but see <code>cowplot</code> below).</p>
<div class="highlight"><pre><span></span><code><span class="nf">library</span><span class="p">(</span><span class="n">gridExtra</span><span class="p">)</span>

<span class="n">fig.combined1</span> <span class="o">&lt;-</span> <span class="nf">grid.arrange</span><span class="p">(</span><span class="n">fig1</span><span class="p">,</span> <span class="n">fig2</span><span class="p">,</span> <span class="n">ncol</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
<span class="nf">ggsave</span><span class="p">(</span><span class="n">plot</span> <span class="o">=</span> <span class="n">fig.combined1</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="s">&quot;grid.arrange.png&quot;</span><span class="p">,</span>
       <span class="n">width</span> <span class="o">=</span> <span class="m">8</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s">&quot;in&quot;</span><span class="p">,</span> <span class="n">dpi</span> <span class="o">=</span> <span class="m">96</span><span class="p">)</span>
</code></pre></div>


<p><img alt="oldie but goldie grid arrange" src="https://biolitika.si/images/grid.arrange.png"></p>
<h2>cowplot</h2>
<p>Next is <code>cowplot</code>, which comes with nice <a href="https://cran.r-project.org/web/packages/cowplot/index.html">vignettes</a>. What I like about this package is the elegant adding of letters to subplots, e.g.</p>
<div class="highlight"><pre><span></span><code>library(cowplot)

plot_grid(fig1, fig2, labels = &quot;AUTO&quot;)
cowplot::ggsave(filename = &quot;plotgrid.png&quot;, width = 8,
                height = 4, units = &quot;in&quot;, dpi = 96)
</code></pre></div>


<p>See the vignettes for more information. Package also packs its own <code>ggplot</code> which masks the function <code>ggplot2::ggsave</code> (read: <code>ggsave</code> from package <code>ggplot2</code>). The beauty of it is that it saves the gridded plot, not the last (sub)plot.</p>
<p><img alt="cowplot's grid_plot" src="https://biolitika.si/images/plotgrid.png"></p>
<h2>patchwork</h2>
<p>Thomas did a great job of making combining of plots trivially easy. The <a href="https://github.com/thomasp85/patchwork">GitHub repository</a> of the package is a rich source of information and I could never do it justice. Here's my botched attempt of just an example of what the package functionality provides.</p>
<div class="highlight"><pre><span></span><code>library(patchwork)

fig1 + fig2
cowplot
</code></pre></div>


<p><img alt="patchwork plus" src="https://biolitika.si/images/patchplus.png"></p>                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
            </ol><!-- /#posts-list -->
            </section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>1995 style links</h2>
                        <ul>
                            <li><a href="https://stackoverflow.com/users/322912/roman-lu%C5%A1trik">visit me on StackOverFlow</a></li>
                            <li><a href="http://metinalista.si/category/metamorfoza">#metamorfoza podcast (SI)</a></li>
                            <li><a href="https://www.r-bloggers.com">r-bloggers</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://biolitika.si/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                            <li><a href="https://biolitika.si/feeds/all.rss.xml" type="application/rss+xml" rel="alternate">RSS feed</a></li>
                            <li><a href="https://biolitika.si/feeds/{slug}.rss.xml" type="application/rss+xml" rel="alternate">Tag RSS feed</a></li>

                            <li><a href="https://github.com/romunov">GitHub</a></li>
                            <li><a href="https://twitter.com/romunov">Twitter</a></li>
                            <li><a href="https://www.linkedin.com/in/roman-lu%C5%A1trik-5a6586ab">LinkedIn</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme <a href="https://github.com/blueicefield/pelican-blueidea/">blueidea</a>, inspired by the default theme.</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-22752654-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>